<%- include('../partials/header') %>
<div class="d-flex flex-column flex-md-row pt-3 align-items-center">
	<ul class="breadcrumb">
		<li class="breadcrumb-item"><a href="/customers" class="text-decoration-none text-primary">Customers</a></li>
		<li class="breadcrumb-item">New Customer</li>
	</ul>
</div>
<div class="d-flex flex-column flex-md-row p-4 gap-4 py-md-5 align-items-center justify-content-center">
	<div class="form-group col-4">
		<form action="/customers" method="POST" class="mt-3">
			<h1 class="h3 mb-3 fw-normal">New Customer</h1>

			<div class="form-floating">
				<input type="text" class="form-control my-1
				<% if (err.errors) { %>
					<%= err.errors.first ? 'is-invalid' : '' %>
				<% } %>" id="first" name="first" value="<%= values ? `${values.first}` : '' %>">
				<label for="first">First Name</label>
			</div>

			<div class="form-floating">
				<input type="text" class="form-control my-1
				<% if (err.errors) { %>
						<%= err.errors.last ? 'is-invalid' : '' %>
					<% } %>" id="last" name="last" value="<%= values ? `${values.last}` : '' %>">
				<label for="last">Last Name</label>
			</div>

			<div class="form-floating">
				<input type="text" class="form-control my-1
				<% if (err.errors) { %>
						<%= err.errors.phone ? 'is-invalid' : '' %>
					<% } %>" id="phone" name="phone" value="<%= values ? `${values.phone}` : '' %>">
				<label for="phone">Phone Number</label>
			</div>

			<div class="form-floating">
				<input type="email" class="form-control my-1
				<% if (err.errors) { %>
						<%= err.errors.email ? 'is-invalid' : '' %>
					<% } %>" id="email" name="email" value="<%= values ? `${values.email}` : '' %>">
				<label for="email">Email</label>
			</div>
			
			<div class="form-floating">
				<select type="text" class="form-select my-1
				<% if (err.errors) { %>
						<%= err.errors.preferredCommunication ? 'is-invalid' : '' %>
					<% } %>" id="preferredCommunication" name="preferredCommunication">
					<option value="call" <%= values.preferredCommunication === 'call' ? 'selected': '' %>>call</option>
					<option value="text" <%= values.preferredCommunication === 'text' ? 'selected': '' %>>text</option>
					<option value="email" <%= values.preferredCommunication === 'email' ? 'selected': '' %>>email</option>
				</select>
				<label for="preferredCommunication">Preferred Communication</label>
			</div>

			<%- include('../partials/errors') %>


			<div class="text-center">
				<button class="btn btn-primary w-25 my-2" type="submit">Add Customer</button>
			</div>

		</form>

	</div>
</div>
<%- include('../partials/footer') %>