<%- include('../partials/header') %>
<div class="d-flex flex-column flex-md-row pt-3 align-items-center">
	<ul class="breadcrumb">
		<li class="breadcrumb-item"><a href="/customers" class="text-decoration-none text-primary">Customers</a></li>
		<li class="breadcrumb-item"><a href="/customers/<%= customer.id %>" class="text-decoration-none text-primary"><%= customer.first %> <%= customer.last %></a></li>
		<li class="breadcrumb-item"><a href="/customers/<%= customer.id %>/cars" class="text-decoration-none text-primary">Cars</a></li>
		<li class="breadcrumb-item"><a href="/customers/<%= customer.id %>/cars/<%= car.id %>" class="text-decoration-none text-primary"><%= car.model %></a></li>
		<li class="breadcrumb-item active">Edit</li>
	</ul>
</div>
	<div class="d-flex flex-column flex-md-row p-4 gap-4 py-md-5 align-items-center justify-content-center">
		<div class="form-group col-lg-6 col-md-10 col-12 bg-warning p-3">
			<form action="/customers/<%= customer.id %>/cars/<%= car.id %>?_method=PUT" method="POST" class="mt-3">
				<h1 class="h3 mb-3 fw-normal">Edit Car</h1>

				<div class="form-floating">
					<input type="number" class="form-control my-1 
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('year')) ? 'is-invalid' : '' %>
					<% } %>" min="1900" max="2100" id="year" name="year"
						value="<%= car.year %>">
					<label for="year">Year</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('make')) ? 'is-invalid' : '' %>
					<% } %>" id="make" name="make" value="<%= car.make %>">
					<label for="make">Make</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('model')) ? 'is-invalid' : '' %>
					<% } %>" id="model" name="model" value="<%= car.model %>">
					<label for="model">Model</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('trimLevel')) ? 'is-invalid' : '' %>
					<% } %>" id="trimLevel" name="trimLevel" value="<%= car.trimLevel %>">
					<label for="trimLevel">Trim</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('engine')) ? 'is-invalid' : '' %>
					<% } %>" id="engine" name="engine" value="<%= car.engine %>">
					<label for="engine">Engine</label>
				</div>

				<div class="form-floating">
					<input type="number" min="0" max="2000000" id="mileage" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('mileage')) ? 'is-invalid' : '' %>
					<% } %>" id="mileage" name="mileage" value="<%= car.mileage %>">
					<label for="mileage">Mileage</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('licensePlate')) ? 'is-invalid' : '' %>
					<% } %>" id="licensePlate" name="licensePlate" value="<%= car.licensePlate %>">
					<label for="licensePlate">License Plate</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('color')) ? 'is-invalid' : '' %>
					<% } %>" id="color" name="color" value="<%= car.color %>">
					<label for="color">Color</label>
				</div>

				<div class="form-floating">
					<input type="text" class="form-control my-1
					<% if (err.errors) { %>
						<%= errKeys.some(e => e.includes('tireSize')) ? 'is-invalid' : '' %>
					<% } %>" id="tireSize" name="tireSize" value="<%= car.tireSize %>">
					<label for="tireSize">Tire Size</label>
				</div>

				<%- include('../partials/errors') %>

				<div class="text-center">
					<a href="/customers/<%= customer.id %>/cars/<%= car.id %>" class="btn btn-danger w-25 my-2 mx-2" type="submit">Cancel</a>
					<button class="btn btn-primary w-25 my-2 mx-2" type="submit">Confirm Update</button>
				</div>

			</form>

		</div>
	</div>

<%- include('../partials/footer') %>